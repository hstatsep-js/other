<!DOCTYPE html>
<html>
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" />
        <style>
            /* CSS */
            
        </style>
        
        <title>Title</title>
    </head>
    <body>
        <!-- HTML -->
        
        
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/p5.js"></script>
        <script>
            // JS
            
            var counter = 0;
            var colors = ["red", "orange", "yellow", "green", "blue", "purple"];
            var lastFrameClicked = 0;
            var tooFast = false;
            
            function setup() {
              createCanvas(400, 400);
              rectMode(CENTER);
            }
            
            function draw() {
              console.log(tooFast)
              
              if(tooFast){
                end();
              } else {
                
                background(220);
            
            
            
                fill(0);
                textSize(10);
                textAlign(LEFT,BASELINE);
                text("0                     1                        2                         3                   4                   5", 20, 20);
                textSize(20);
                text("red , orange , yellow , green , blue , purple", 10, 50);
                drawArrow(counter%6);
            
                text("counter  =>  " + counter, 120, 330);
            
                textSize(30);
                text("counter % 6  =>  " + counter % 6, 70, 375);
            
                fill(colors[counter % 6]); // choose the color based on the counter
                ellipse(width / 2, height / 2, width / 2, height / 2)
            
                fill(0);
                textSize(20);
                text("PRESS ANY KEY!",120,205);
                
              }
              
              
            
            }
            
            function keyPressed() {
              counter++;
              console.log("frameCount: " + frameCount)
              console.log("lastFrameClicked: " + lastFrameClicked)
              console.log("frameCount - lastFrameClicked: " + (frameCount - lastFrameClicked))
              console.log("frameCount - lastFrameClicked < 30: " + (frameCount - lastFrameClicked < 30))
              console.log(" ")
              if(frameCount - lastFrameClicked < 30){
                tooFast = true;
              }
              lastFrameClicked = frameCount;
            }
            
            function end() {
              noLoop();
              background(0);
              textAlign(CENTER,CENTER);
              fill(255);
              textSize(40);
              text("This is not a game.",width/2,100);
              textSize(14);
              text("You are pressing keys too fast",width/2,200);
              text("to actually understand what is happening.",width/2,220);
              textSize(20);
              text("Please reload the page and try again.",width/2,300);
            }
            
            function drawArrow(num) {
              switch (num) {
                case 0:
                  x = 25;
                  break;
                case 1:
                  x = 90;
                  break;
                case 2:
                  x = 160;
                  break;
                case 3:
                  x = 235;
                  break;
                case 4:
                  x = 295;
                  break;
                case 5:
                  x = 355;
                  break;
                
              }
              y = 65;
              triangle(x, y, x - 10, y+10, x + 10, y+10);
              rect(x,y+15,10,20);
            }
            
        </script>
    </body>
</html>
